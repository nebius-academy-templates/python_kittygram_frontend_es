{"ast":null,"code":"import _slicedToArray from\"/workspaces/python_kittygram_frontend_es/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";import{UserContext}from\"../../utils/context\";import{getUser}from\"../../utils/api\";import{ProtectedRoute}from\"../ui/protected-roure/protected-route\";import{Header}from\"../header/header\";import{Footer}from\"../footer/footer\";import{SignUp}from\"../sign-up/sign-up\";import{SignIn}from\"../sign-in/sign-in\";import{MainPage}from\"../main-page/main-page\";import{CardPage}from\"../card-page/card-page\";import{AddCardPage}from\"../add-card-page/add-card-page\";import{EditCardPage}from\"../edit-card-page/edit-card-page\";import styles from\"./app.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),userState=_React$useState2[0],setUserState=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),currentCard=_React$useState4[0],setCurrentCard=_React$useState4[1];var _React$useState5=React.useState(1),_React$useState6=_slicedToArray(_React$useState5,2),queryPage=_React$useState6[0],setQueryPage=_React$useState6[1];React.useEffect(function(){var token=localStorage.getItem(\"auth_token\");if(token){getUser().then(function(res){if(res&&res.id){setUserState({id:res.id});}});}},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.app,children:/*#__PURE__*/_jsx(UserContext.Provider,{value:[userState,setUserState],children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{setQueryPage:setQueryPage}),/*#__PURE__*/_jsx(\"main\",{className:styles.content,children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(MainPage,{queryPage:queryPage,setQueryPage:setQueryPage})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",children:/*#__PURE__*/_jsx(SignIn,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/cats/add\",children:/*#__PURE__*/_jsx(AddCardPage,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/cats/edit\",children:/*#__PURE__*/_jsx(EditCardPage,{data:currentCard,setData:setCurrentCard})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/cats/:id\",children:/*#__PURE__*/_jsx(CardPage,{data:currentCard,setData:setCurrentCard})})]})}),/*#__PURE__*/_jsx(Footer,{})]})})});}export default App;","map":{"version":3,"sources":["/workspaces/python_kittygram_frontend_es/src/components/app/app.js"],"names":["React","BrowserRouter","Route","Switch","UserContext","getUser","ProtectedRoute","Header","Footer","SignUp","SignIn","MainPage","CardPage","AddCardPage","EditCardPage","styles","App","useState","userState","setUserState","currentCard","setCurrentCard","queryPage","setQueryPage","useEffect","token","localStorage","getItem","then","res","id","app","content"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA6C,kBAA7C,CAEA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CAEA,OAASC,cAAT,KAA+B,uCAA/B,CAEA,OAASC,MAAT,KAAuB,kBAAvB,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,OAASC,QAAT,KAAyB,wBAAzB,CACA,OAASC,QAAT,KAAyB,wBAAzB,CACA,OAASC,WAAT,KAA4B,gCAA5B,CACA,OAASC,YAAT,KAA6B,kCAA7B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,oBAAkChB,KAAK,CAACiB,QAAN,CAAe,EAAf,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBACA,qBAAsCnB,KAAK,CAACiB,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBACA,qBAAkCrB,KAAK,CAACiB,QAAN,CAAe,CAAf,CAAlC,qDAAOK,SAAP,qBAAkBC,YAAlB,qBAEAvB,KAAK,CAACwB,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd,CACA,GAAIF,KAAJ,CAAW,CACTpB,OAAO,GAAGuB,IAAV,CAAe,SAACC,GAAD,CAAS,CACtB,GAAIA,GAAG,EAAIA,GAAG,CAACC,EAAf,CAAmB,CACjBX,YAAY,CAAC,CAAEW,EAAE,CAAED,GAAG,CAACC,EAAV,CAAD,CAAZ,CACD,CACF,CAJD,EAKD,CACF,CATD,CASG,EATH,EAWA,mBACE,YAAK,SAAS,CAAEf,MAAM,CAACgB,GAAvB,uBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACb,SAAD,CAAYC,YAAZ,CAA7B,uBACE,MAAC,aAAD,yBACE,KAAC,MAAD,EAAQ,YAAY,CAAEI,YAAtB,EADF,cAEE,aAAM,SAAS,CAAER,MAAM,CAACiB,OAAxB,uBACE,MAAC,MAAD,yBACE,KAAC,cAAD,EAAgB,KAAK,KAArB,CAAsB,IAAI,CAAC,GAA3B,uBACE,KAAC,QAAD,EAAU,SAAS,CAAEV,SAArB,CAAgC,YAAY,CAAEC,YAA9C,EADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,MAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,MAAD,IADF,EAPF,cAUE,KAAC,cAAD,EAAgB,IAAI,CAAC,WAArB,uBACE,KAAC,WAAD,IADF,EAVF,cAaE,KAAC,cAAD,EAAgB,IAAI,CAAC,YAArB,uBACE,KAAC,YAAD,EAAc,IAAI,CAAEH,WAApB,CAAiC,OAAO,CAAEC,cAA1C,EADF,EAbF,cAgBE,KAAC,cAAD,EAAgB,IAAI,CAAC,WAArB,uBACE,KAAC,QAAD,EAAU,IAAI,CAAED,WAAhB,CAA6B,OAAO,CAAEC,cAAtC,EADF,EAhBF,GADF,EAFF,cAwBE,KAAC,MAAD,IAxBF,GADF,EADF,EADF,CAgCD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport { UserContext } from \"../../utils/context\";\nimport { getUser } from \"../../utils/api\";\n\nimport { ProtectedRoute } from \"../ui/protected-roure/protected-route\";\n\nimport { Header } from \"../header/header\";\nimport { Footer } from \"../footer/footer\";\nimport { SignUp } from \"../sign-up/sign-up\";\nimport { SignIn } from \"../sign-in/sign-in\";\nimport { MainPage } from \"../main-page/main-page\";\nimport { CardPage } from \"../card-page/card-page\";\nimport { AddCardPage } from \"../add-card-page/add-card-page\";\nimport { EditCardPage } from \"../edit-card-page/edit-card-page\";\n\nimport styles from \"./app.module.css\";\n\nfunction App() {\n  const [userState, setUserState] = React.useState({});\n  const [currentCard, setCurrentCard] = React.useState({});\n  const [queryPage, setQueryPage] = React.useState(1);\n\n  React.useEffect(() => {\n    const token = localStorage.getItem(\"auth_token\");\n    if (token) {\n      getUser().then((res) => {\n        if (res && res.id) {\n          setUserState({ id: res.id });\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <div className={styles.app}>\n      <UserContext.Provider value={[userState, setUserState]}>\n        <BrowserRouter>\n          <Header setQueryPage={setQueryPage} />\n          <main className={styles.content}>\n            <Switch>\n              <ProtectedRoute exact path=\"/\">\n                <MainPage queryPage={queryPage} setQueryPage={setQueryPage} />\n              </ProtectedRoute>\n              <Route path=\"/signin\">\n                <SignIn />\n              </Route>\n              <Route path=\"/signup\">\n                <SignUp />\n              </Route>\n              <ProtectedRoute path=\"/cats/add\">\n                <AddCardPage />\n              </ProtectedRoute>\n              <ProtectedRoute path=\"/cats/edit\">\n                <EditCardPage data={currentCard} setData={setCurrentCard} />\n              </ProtectedRoute>\n              <ProtectedRoute path=\"/cats/:id\">\n                <CardPage data={currentCard} setData={setCurrentCard} />\n              </ProtectedRoute>\n            </Switch>\n          </main>\n          <Footer />\n        </BrowserRouter>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}